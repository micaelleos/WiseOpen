INSTRUÇÃO NORMATIVA BCB Nº 456, DE 29 DE FEVEREIRO DE 2024

              Divulga a versão 5.0 do Manual de APIs do Open Finance.

Os Chefes do Departamento de Regulação do Sistema Financeiro (Denor) e do Departamento de Tecnologia da Informação (Deinf), no uso das atribuições que lhes conferem o art. 23, inciso I, alínea "a", do Regimento Interno do Banco Central do Brasil, anexo à Resolução BCB nº 340, de 21 de setembro de 2023, com base no art. 3º, inciso II, da Resolução BCB nº 32, de 29 de outubro de 2020,

R E S O L V E M :

Art. 1º  Esta Instrução Normativa divulga a versão 5.0 do Manual de APIs do Open Finance, de observância obrigatória por parte das instituições participantes, conforme Anexo.

Parágrafo único.  O manual de que trata o caput, em sua versão mais recente, estará acessível na página do Open Finance no sítio eletrônico do Banco Central do Brasil na internet e no Portal do Open Finance no Brasil, mantido pela Estrutura Responsável pela Governança do Open Finance de que trata o art. 44, § 1º, da Resolução Conjunta nº 1, de 4 de maio de 2020.

Art. 2º  Fica revogada a Instrução Normativa nº 306, de 19 de setembro de 2022.

Art. 3º  Esta Instrução Normativa entra em vigor em 1º de março de 2024.

RENATO KIYOTAKA UEMA               HAROLDO JAYME MARTINS FROES CRUZ
                        Chefe do Denor                                Chefe do Deinf                                                                                                                                                                                                                                                     

                                                 

ANEXO À INSTRUÇÃO NORMATIVA BCB Nº 456, DE 29 DE FEVEREIRO DE 2024

Manual de APIs do Open Finance Versão 5.0

Histórico de revisão

Data

Versão

Descrição das alterações

29/2/2024

5.0

Simplificação da seção 2 "APIs do Open Finance".

Atualização da seção 5 "Requisitos não funcionais", incluindo mais uma faixa de frequência a ser considerada, e detalhamento dos indicadores de desempenho e de disponibilidade das APIs.

 

Termos de Uso

Este manual detalha os requisitos técnicos para a implementação dos elementos necessários à operacionalização do Open Finance, complementando a regulamentação vigente sobre o tema.

O manual será revisto e atualizado periodicamente a fim de preservar a compatibilidade com a regulamentação, bem como para incorporar os aprimoramentos decorrentes da evolução do Open Finance e da tecnologia.

Informações mais detalhadas e exemplos da aplicação deste manual poderão ser encontrados nos guias e tutoriais disponíveis no Portal do Open Finance no Brasil, na Área do Desenvolvedor.

Sugestões, críticas ou pedidos de esclarecimento de dúvidas relativas ao conteúdo deste documento podem ser enviados ao Banco Central do Brasil por meio dos canais institucionais dessa autarquia.

Referências

As especificações baseiam-se, referenciam e complementam, quando aplicável, os seguintes documentos:

Referência

Origem

Resolução Conjunta nº 1, de 2020

https://www.bcb.gov.br/estabilidadefinanceira/exibenormativo?tipo=Resolu%C3%A7%C3%A3o%20Conjunta&numero=1

Resolução BCB nº 32, de 2020

https://www.bcb.gov.br/estabilidadefinanceira/exibenormativo?tipo=Resolu%C3%A7%C3%A3o%20BCB&numero=32

Hypertext Transfer Protocol – HTTP/1.1

https://tools.ietf.org/html/rfc2616

ISO 20022

https://www.iso20022.org/

OpenAPI Specification

https://github.com/OAI/OpenAPI-Specification/blob/3.0.0/versions/3.0.0.md

Representational State Transfer

https://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm

 

1. Introdução

O Open Finance está intrinsecamente ligado às APIs, interfaces por meio das quais será possível interligar os diferentes sistemas das instituições. Ao serem disponibilizadas pelos participantes, as APIs devem satisfazer condições tais como padronização, robustez e segurança, a fim de que o objetivo de compartilhamento de dados e serviços seja atendido a contento.

Nesse sentido, este manual visa a definir os principais aspectos relativos às especificações e implementações das APIs que integram o Open Finance no País, observando as disposições da Resolução Conjunta nº 1, de 4 de maio de 2020, e da Resolução BCB nº 32, de 29 de outubro de 2020.

São tratados neste manual aspectos como: formato para a troca de dados, desenho da interface, protocolo para transmissão de dados, versionamento, modelo de APIs e endpoints. Desse modo, o manual estabelece as diretrizes gerais sem esgotar todos os aspectos necessários à implementação das APIs para o Open Finance. As demais definições a cargo das instituições participantes, por meio da Estrutura Responsável pela Governança do Open Finance, nos termos da Circular nº 4.032, de 23 de junho de 2020, estarão disponíveis no Portal do Open Finance no Brasil, no qual poderão ser encontrados guias, tutoriais e outras informações operacionais sobre as APIs.

Ao longo deste manual, será constante o uso de siglas e terminologia específica para designar algumas expressões cotidianas dos profissionais da área de tecnologia. Alguns exemplos das mais frequentemente utilizadas, com as correspondentes definições, são as seguintes:

I - API (Application Programming Interface): um conjunto de definições sobre como um sistema pode acessar dados ou funcionalidades providos por um outro sistema;

II - REST (Representational State Transfer): estilo arquitetural de software;

III - API RESTful: API que adere às restrições do estilo arquitetural REST;

IV - OpenAPI: linguagem de especificação de APIs RESTful;

V - endpoint: elemento de uma especificação OpenAPI sobre o qual podem ser executadas operações para acessar dados ou funcionalidades;

VI - HTTP (Hypertext Transfer Protocol): protocolo para sistemas hipermídia, distribuídos e colaborativos;

VII - operação: elemento de uma especificação OpenAPI que declara uma maneira válida de se acessar um endpoint, informando, por exemplo, qual método HTTP (GET, POST etc.) utilizar, nomes e tipos de parâmetros, etc;

VIII - provedor da API: instituição que disponibiliza uma API para ser consumida por outras instituições. Nas APIs de "Serviços de Iniciação de Pagamentos", é a instituição detentora de contas; no caso de APIs de "Dados Cadastrais e Transacionais", é a instituição transmissora de dados;

IX - consumidor da API: instituição que consome uma API provida por outras instituições. Nas APIs de "Serviços de Iniciação de Pagamentos", é a instituição iniciadora de pagamentos; no caso de APIs de "Dados Cadastrais e Transacionais", é a instituição receptora de dados; e

X - gateway de API: é um serviço, dispositivo ou proxy que atua como intermediário, aceitando, transformando, encaminhando e gerenciando o tráfego de APIs para serviços de back-end. Ele permite a comunicação e a transferência de dados entre endpoints e pode ser útil quando há várias plataformas que precisam interagir umas com as outras sem conceder acesso direto às APIs umas das outras. Além disso, um gateway de API pode lidar com tarefas como autenticação, limitação de taxas, armazenamento em cache e transformação de solicitação/resposta, reduzindo a carga sobre o aplicativo e melhorando a segurança geral e o desempenho do sistema.

2. APIs do Open Finance

As APIs a serem providas pelas instituições no âmbito do Open Finance devem ser categorizadas em um dos seguintes tipos:

I - Dados Abertos;

II - Dados Cadastrais e Transacionais;

III - Serviços; e

IV - Relatórios e Métricas.

3. Princípios

Os princípios abaixo norteiam as especificações e implementações das APIs do Open Finance.

3.1 Experiência do usuário

As especificações e implementações das APIs devem oferecer uma boa experiência para os usuários, sejam eles implementadores ou consumidores das APIs.

3.2 Independência de tecnologia

As especificações das APIs devem ser independentes de tecnologia, podendo ser implementadas e consumidas em diferentes linguagens, tais como Java, JavaScript e Python; ou plataformas, tais como Windows, Linux, Android e iOS.

3.3 Segurança

Procedimentos e controles (assinaturas digitais, criptografia, protocolos de autenticação e autorização, entre outros) devem ser adotados de forma a proteger os participantes do Open Finance, seus clientes, os consumidores das APIs e demais participantes do ecossistema, observada a compatibilidade com a política de segurança cibernética da instituição.

3.4 Extensibilidade

No futuro, as APIs poderão ser evoluídas para atender a novos casos de uso e, portanto, devem ser especificadas e implementadas de forma a permitir e facilitar extensões como, por exemplo, novos endpoints, operações, parâmetros e propriedades.

3.5 Padrões abertos

Padrões abertos devem ser adotados sempre que possível.

3.6 APIs RESTful

As especificações das APIs devem atender às restrições do estilo arquitetural REST sempre que possível.

3.7 ISO 20022

As respostas das APIs devem ter como base os elementos e componentes de mensagem ISO 20022 (https://www.iso20022.org/). Os casos particulares em que a adoção do padrão ISO não seja possível ou recomendada poderão sofrer adequações, desde que especificamente apontados para avaliação pelo Banco Central do Brasil.

3.8 Declaração de obrigatoriedade

Todos os elementos que compõem as especificações das APIs (endpoints, operações, parâmetros, propriedades de respostas etc.) devem ser explicitamente declarados como "Obrigatório", "Opcional" ou "Condicional", caso sejam obrigatórios apenas em certas condições.

Funcionalidades que sejam de implementação opcional pelo transmissor devem ficar explícitas na sua documentação, tanto para informar adequadamente ao público transmissor, que poderá ou não implementar a funcionalidade, quanto ao público consumidor, que pode não encontrar a funcionalidade disponível em alguns transmissores.

4. Definições e recomendações

As definições e recomendações abaixo devem ser observadas pelas especificações e implementações das APIs do Open Finance.

4.1 Especificações

As APIs devem ser especificadas com a versão 3.0.0 ou superior da linguagem OpenAPI (https://github.com/OAI/OpenAPI-Specification/blob/3.0.0/versions/3.0.0.md).

As especificações das APIs devem ser analisadas com a versão 5.9.0 ou superior do software livre e de código aberto Spectral (https://github.com/stoplightio/spectral/tree/v5.9.0). A análise deve ser feita com o conjunto de regras (ruleset) padrão desta versão do Spectral. O resultado da análise não deve conter erros ou alertas.

É recomendado que a versão 3.0.25 ou superior do software livre e de código aberto Swagger Codegen (https://github.com/swagger-api/swagger-codegen/tree/v3.0.25) seja utilizada para gerar o código de clientes e também o código inicial de implementações das APIs a partir de suas especificações. Recomenda-se que o código gerado seja analisado com o intuito de identificar possíveis recursos da linguagem OpenAPI que foram utilizados nas especificações, mas que não são adequadamente suportados pelo Swagger Codegen e, possivelmente, por outros softwares que trabalham com especificações OpenAPI. Caso isso ocorra, deve-se avaliar se não é possível alterar as especificações para não mais fazer uso desses recursos.

Devem ser disponibilizadas implementações de exemplo das APIs. Os dados retornados por elas não precisam ser dados reais e nem volumosos, pois o objetivo da disponibilização é dar ao Banco Central do Brasil, aos implementadores e aos consumidores das APIs mais um recurso para dirimir eventuais dúvidas acerca de suas especificações e implementações. É recomendado que o código inicial de implementações das APIs mencionado anteriormente seja complementado de forma a constituir-se nas implementações de exemplo.

As informações disponibilizadas nos dicionários de dados devem ser consistentes com as especificações OpenAPI associadas.

Todos os endpoints das APIs implementados devem ser previamente registrados no diretório de participantes.

Todos os endpoints registrados que retornem listas, caso os parâmetros sejam válidos, devem retornar a lista associada, mesmo que seja lista vazia. Não é considerado um retorno válido o erro 404, neste cenário, quando não houver a informação associada.

4.2 Versionamento

As versões das especificações das APIs serão tipificadas como "major", "minor", "patch" e "release candidate" de acordo com os critérios a seguir:

I - major: inclui novas características da implementação, mudanças, correções a serem incorporadas e que podem ser incompatíveis com versões anteriores, por exemplo, v1.0.0 e v2.0.0;

II - minor: pequenas mudanças nos elementos já existentes, com manutenção da compatibilidade com as versões até a major imediatamente anterior, por exemplo, v1.1.0 e v1.2.0;

III - patch: esclarecimentos às especificações minor, não incluem alterações funcionais, por exemplo, v1.1.1, v1.1.2; e

IV - release candidate: versões de pré-lançamento de qualquer versão futura do tipo patch, minor ou major, por exemplo, v1.0.0-rc e v1.0.0-rc2.

A Estrutura Responsável pela Governança do Open Finance, de que trata o art. 44, § 1º, da Resolução Conjunta nº 1, de 2020, pode lançar novas versões das APIs.

O Banco Central do Brasil pode definir:

I - o cronograma de implantação das novas versões das especificações das APIs e de certificação das instituições participantes; e

II - a tipificação de determinadas alterações como "minor" ou "patch" independentemente dos critérios definidos nos incisos de I a IV desta subseção.

Alterações feitas na especificação de uma API devem sempre ser documentadas com um novo versionamento desta especificação.

Por fim, credenciais de acesso associadas às APIs devem ser agnósticas às suas versões.

4.3 Portal do Open Finance no Brasil

O sítio eletrônico de que trata o art. 15 da Resolução BCB nº 32, de 2020, deverá conter definições e recomendações acessórias não presentes neste manual, bem como outros artefatos necessários à especificação, implementação e consumo das APIs do Open Finance. Todas as definições e recomendações acessórias e artefatos publicados no portal deverão estar em concordância com este e com os demais manuais do Open Finance.

4.4 Cronograma

O Portal do Open Finance deverá listar as APIs em produção, suas versões atuais, datas em que entraram em produção, link para suas especificações e lista de mudanças desde a última publicação. Também deverá apresentar o cronograma de homologação das APIs, indicando versão, data de divulgação, data prevista de entrada em produção e outras informações relevantes.

4.5 Logs de mudanças

Todas as versões já publicadas das APIs devem ser listadas no Portal do Open Finance, juntamente com os respectivos logs de mudanças e períodos em que estiveram em produção.

4.6 Definições acessórias

A Estrutura Responsável pela Governança do Open Finance deverá estabelecer e publicar no Portal do Open Finance um guia de estilo de especificações de APIs contendo definições e recomendações para os seguintes elementos:

I - estrutura de URIs (Uniform Resource Identifiers);

II - cabeçalhos HTTP;

III - códigos de status HTTP;

IV - convenções de corpo de requisições e respostas;

V - convenções de nomenclatura;

VI - tipos de dados comuns;

VII - paginação; e

VIII - estabilidade de identificadores.

4.7 Processo de gerência de mudanças

A Estrutura Responsável pela Governança do Open Finance deve estabelecer e publicar no Portal do Open Finance o processo que ela adotará para gerenciar mudanças nas especificações das APIs.

4.8 Tutoriais

Todas as informações necessárias para o desenvolvimento, testes e entrada em produção de aplicações ou APIs no Open Finance devem estar disponíveis em tutoriais publicados na Área do Desenvolvedor no Portal do Open Finance. Cada tutorial deve conter todos os passos necessários para o completo desenvolvimento da atividade em questão, como desenvolvimento e uso de aplicações e APIs, autenticação e autorização, uso da Sandbox, aplicação de testes de conformidade e cadastramento no diretório. Quando pertinente, devem ser fornecidos exemplos de código fonte ou de capturas de telas, tornando o processo o mais claro possível para todos os participantes e interessados.

4.9 Extensibilidade

As especificações das APIs do Open Finance podem não dar acesso a todos os dados e funcionalidades que um ou mais participantes desejam expor para os consumidores das APIs. Isso pode ser necessário para melhor suportar casos de uso ou possibilitar inovações em produtos e serviços financeiros. Para atender estas e outras necessidades, é facultado aos participantes implementarem versões estendidas das APIs inteiramente compatíveis com as especificações padrões das APIs que são:

I - novos endpoints;

II - novas operações em endpoints pré-existentes;

III - novos parâmetros em operações pré-existentes, desde que opcionais; e

IV - novas propriedades em respostas pré-existentes.

A Estrutura Responsável pela Governança do Open Finance deverá publicar no Portal do Open Finance as definições e recomendações acessórias relacionadas às extensões das APIs.

Todas as extensões implementadas pelos participantes deverão estar listadas, com sua documentação referenciada, em seção específica no Portal do Open Finance e disponíveis para consumo, observadas as regras de ressarcimento de despesas previstas na regulamentação vigente.

5. Requisitos não funcionais

Esta seção apresenta os requisitos não funcionais que as instituições participantes devem observar na implementação das APIs do Open Finance.

Para auxiliar na definição de alguns requisitos não funcionais, é necessário que cada endpoint seja classificado no Portal do Open Finance de acordo com a sua frequência de atualização dos dados, conforme as opções abaixo:

I - alta frequência;

II - média-alta frequência;

III - média frequência; e

IV - baixa frequência

Os Limites de tráfego por origem, limites operacionais e tempo de resposta (desempenho) serão definidos baseados nessa classificação.

Os endpoints das APIs do tipo "Serviços", das APIs de "Segurança" (Token – consumo OAuth 2.0 (FAPI), Token – DCR/DCM) e das APIs de "Recursos" e de "Consentimento" devem ser considerados como de alta frequência.

5.1 Limites de tráfego

5.1.1 Limites por origem

Cada endpoint implementado no Open Finance pode ter uma restrição quanto ao tráfego a partir de determinada origem. Em APIs do tipo "Dados Abertos" a origem é o IP de onde partiu a requisição, em APIs autenticadas é a organizationId da instituição que fez a requisição.

No caso de uma instituição implementar limites, eles devem respeitar os valores mínimos de Transações por Minuto (TPM). conforme definido abaixo:

I - 2.000 TPM, por endpoint e por origem, em endpoints classificados como de alta frequência;

II - 1.500 TPM, por endpoint e por origem, em endpoints classificados como de média-alta frequência;

III - 1.000 TPM, por endpoint e por origem, em endpoints classificados como de média frequência; e

IV - 500 TPM, por endpoint e por origem, em endpoints classificados como de baixa frequência.

Aplicabilidade: Alguns endpoints não podem ter limites de tráfego definidos por origem, como nas APIs do tipo "Serviços", nas APIs de "Segurança", e de "Recursos" e de "Consentimento". A informação se o limite por origem é "aplicável" ou "não aplicável" deve estar explícito por endpoint no Portal do Open Finance.

As requisições que excederem os limites implementados deverão ser respondidas com o código de status HTTP 429 (Too Many Requests).

Por fim, as requisições que ultrapassarem os limites deverão ser desprezadas no cálculo do tempo de resposta das implementações das APIs.

5.1.2 Limites globais

A infraestrutura das instituições provendo APIs no Open Finance deve ter a capacidade de, no mínimo, atender a 300 requisições simultâneas por segundo (TPS).

Caso uma instituição atinja o limite de 300 TPS, no contexto do Open Finance, a mesma deve ampliar sua capacidade de infraestrutura para possibilitar um acréscimo de 150 TPS ao limite anterior. Tal aumento deve ocorrer novamente a cada vez que o limite vigente naquela instituição for atingido. Cada instituição deve criar monitoramento preventivo, de acordo com critérios definidos; as evidências devem estar à disposição do Banco Central do Brasil por um período de doze meses.

As requisições que excederem os limites de TPS deverão ser respondidas com o código de status HTTP 529 (Site is overloaded).

O Portal do Open Finance deverá conter uma especificação detalhada de como TPS e gatilhos para aumento ou diminuição da capacidade serão calculados.

Endpoints criados dentro do conceito de extensibilidade, sejam dentro de novas APIs ou em APIs existentes, não podem ser considerados para controle do limite global de transações simultâneas.

5.2 Limites operacionais

É facultado às instituições participantes que implementem um limite de acesso mensal por endpoint e por cliente.

Em endpoints que acessem recursos ou produtos, os limites serão também considerados por recurso ou produto.

A contabilização dos acessos deve ser feita por:

I - mês;

II - endpoint;

III - objeto mais granular referenciado na chamada (consentimento/recurso/produto);

IV - cliente (CPF ou CNPJ); e

V - instituição consumidora da informação.

Por exemplo: uma instituição receptora "A" pode acessar um endpoint "B", acessando o recurso "C", de um cliente "D" da instituição transmissora "E", no mínimo "N" vezes (ou chamadas) com sucesso por mês.

Aplicabilidade dos limites operacionais: todos os endpoints das APIs do tipo Dados Cadastrais e Transacionais (conforme classificação por tipo), excetuando-se os endpoints das APIs de Consentimento (Consents) e Recursos (Resources). As APIs dos tipos Dados Abertos, de Serviços (como de Iniciação de Pagamento) e de Segurança não podem ter restrições de limites operacionais.

A implementação dos limites operacionais é opcional pelas instituições transmissoras, mas, uma vez que sejam implementados, devem garantir o consumo mínimo estabelecido no Portal do Open Finance. É facultada à instituição a possibilidade de ampliar estes limites, mas vedada a implementação de limites inferiores aos estabelecidos.

O Portal do Open Finance deve listar os valores mínimos de limites operacionais a serem considerados, por endpoint, que devem ser iguais ou maiores que os abaixo, de acordo com a classificação de frequência de utilização:

I - 4 chamadas ao mês, para endpoint classificado como de baixa frequência;

II - 30 chamadas ao mês, para endpoint classificados como de média frequência;

III - 120 chamadas ao mês, para endpoint classificados como de média-alta frequência;

IV - 240 chamadas ao mês, para endpoint classificado como de alta frequência; e

V - 420 chamadas ao mês, para os seguintes endpoints da API de Contas: "Saldos da conta" e "Limites da conta".

Só deverão ser contabilizadas nos limites operacionais as requisições respondidas com código de status HTTP 2XX (com sucesso), sendo que as requisições adicionais a um endpoint para fins de paginação não devem ser contabilizadas.

As requisições que excederem os limites operacionais deverão ser respondidas com o código de status HTTP 423.

Todas as requisições autenticadas em endpoints sujeitos ao limite operacional devem possuir o atributo x-fapi-interaction-id preenchido no seu header pela instituição receptora de dados, que deve ser copiado pela instituição transmissora de dados nos headers da resposta. Essa definição objetiva permitir um adequado rastreamento de divergências que podem ocorrer entre instituições transmissoras e receptoras de dados associadas ao limite operacional.

5.3 Desempenho

Deverá ser medido o tempo de resposta de cada requisição, ou seja, o tempo transcorrido entre o recebimento de uma requisição que não ultrapassa os limites de tráfego e o momento em que a requisição é completamente respondida. Adicionalmente, esta medição deverá ser feita de maneira que os tempos medidos sejam os mais próximos possíveis dos tempos de resposta experimentados por quem fez a requisição. A medição na instituição provedora da API deve iniciar quando a requisição é recebida pelo gateway e deve terminar após o último byte da resposta desta requisição ser enviado.

5.3.1 Cálculo do desempenho

Para fins do cálculo do desempenho, deve-se considerar o valor do percentil 95 e as requisições para medir o desempenho, que pretende minimizar impacto do aparecimento de valores extremos (outliers). O valor do percentil 95 pode ser obtido da seguinte maneira:

I - coleta dos dados: Seja R o conjunto de todos os tempos de resposta de um dia, onde ri é o tempo de resposta da i-ésima requisição. Ou seja, R={r1, r2, ..., rn};

II - cálculo do índice do percentil 95: o índice para o percentil 95, denotado por i95, é calculado pela fórmula i95 = 0.95 ∗ n, arredondado para o número inteiro mais próximo, e onde n representa número de requisições;

III - ordenação dos dados: Ordene o conjunto R em ordem crescente para obter o conjunto ordenado Rord={r(1), r(2), ..., r(n)}, onde r(1) é o menor tempo de resposta e r(n) é o maior; e

IV - obtenção do valor do percentil 95: o valor do percentil 95, denotado por P95, é o valor no índice i95 no conjunto ordenado Rord. Ou seja, P95 = r(i95).

Considerando um exemplo em que um endpoint recebe 10.555 requisições em um dia (ou seja, n = 10.555). Nesse caso, o índice para o percentil 95 será 10.027 (i95 = [0.95 * n] = [10.027,25] = 10.027). Após ordenarmos as medições do tempo de resposta em ordem crescente (formando o conjunto Rord), o valor do percentil 95 (P95) para esse dia será igual ao tempo de resposta na posição 10.027 no conjunto ordenado Rord.

5.3.2 Service Level Agreement (SLA) do desempenho

Neste contexto, os endpoints das APIs deverão manter, diariamente, o percentil 95 do tempo de resposta em no máximo:

I - 1.500ms, em endpoints classificados como de alta e média-alta frequências;

II - 2.000ms, em endpoints classificados como de média frequência; e

III - 4.000ms, em endpoints classificados como de baixa frequência.

Por exemplo, em um dia que um endpoint de alta frequência receba 10.000 requisições, o tempo de resposta de pelo menos 9.500 requisições deve ser inferior a 1.500ms.

Informações adicionais:

I - as medições de tempo de resposta devem ser realizadas de maneira independente para cada versão major dos endpoints em produção;

II - devem ser consideradas as requisições com todos os códigos de retorno possíveis, com exceção dos associados a limites de tráfego e limites operacionais;

III - esta subseção não se aplica às APIs de "Webhook";

IV - as instituições provedoras devem gerar e acompanhar seus indicadores de desempenho, de maneira independente da Plataforma de Coleta de Métricas (PCM) provida pela Estrutura Responsável pela Governança do Open Finance;

V - as instituições consumidoras das APIs devem registrar os tempos de resposta das APIs que consomem para envio à PCM. Nelas a medição do tempo de resposta de cada requisição deve iniciar no momento antes da requisição ser feita e deve terminar após o último byte ser recebido, antes de qualquer processamento;

VI - o valor do tempo de resposta a ser considerado para uma requisição é o valor reportado pelo consumidor da API;

VII - na falta de informações dos consumidores, serão utilizadas as informações dos provedores para o cálculo do SLA de desempenho; e

VIII - a Estrutura Responsável pela Governança do Open Finance deverá disponibilizar indicadores adicionais para monitoramento e aprimoramento do ecossistema, que não terão, nesse momento, um SLA mínimo, tais como:

a) percentil 95 do tempo de resposta somente de requisições com status code 2XX;

b) percentil 95 do tempo de resposta - provedor - deve considerar todas as requisições fornecidas pelo provedor das APIs, mesmo quando houver diferença entre as informações entre provedor e consumidor;

c) percentil 95 do tempo de resposta - consumidor - deve considerar todas as requisições fornecidas pelos consumidores das APIs, mesmo quando houver diferença entre as informações entre provedor e consumidor;

d) índice de paridade - percentual do número de requisições no status "PAIRED" em relação ao total; e

e) média do tempo de resposta até P95 - média do tempo de resposta de todas as requisições com tempo de resposta menores que o valor do P95.

5.3.3 Aferição do desempenho para fins do processo de monitoramento

Considerando que o Manual de Monitoramento do Open Finance estabelece que o período de apuração do desempenho é mensal, assim que o mês de referência se encerrar, a Estrutura Responsável pela Governança do Open Finance deve verificar se os endpoints das APIs das instituições participantes atenderam aos SLAs do desempenho definidos na seção anterior deste manual.

Para fins do processo de monitoramento, considera-se que um endpoint está em conformidade caso tenha respeitado o SLA do desempenho em pelo menos 90% dos dias do mês de referência, arredondando-se para o número inteiro mais próximo, desde que o valor do P95 dos demais dias não tenha sido superior ao SLA do desempenho aumentado em 20%.

Por exemplo:

I - em um mês de 30 dias, em que um endpoint de alta frequência tenha apresentado valor de P95 inferior a 1.500ms em 27 dias e, nos demais dias, tenha apresentado valor de P95 entre 1.500ms e 1.800ms (1.500ms * 1,2 = 1.800ms), o endpoint está em conformidade para fins do processo de monitoramento naquele mês; e

II - em um mês de 31 dias, em que um endpoint de alta frequência tenha apresentado valor de P95 inferior a 1.500ms em 28 dias e, nos demais dias, tenha apresentado, em pelo menos um dos dias, valor de P95 superior a 1.800ms (1.500ms * 1,2 = 1.800ms), o endpoint não está em conformidade para fins do processo de monitoramento naquele mês.

5.4 Disponibilidade

5.4.1 Cálculo da disponibilidade

A disponibilidade dos endpoints das APIs do Open Finance será calculada empiricamente, baseada na monitoração de requisições válidas. Serão consideradas "requisições válidas" as requisições que retornam status code da faixa 2XX, 5XX, igual a 408 ou igual a 422. As requisições válidas podem ser divididas em "requisições válidas com sucesso" - com status code na faixa 2XX ou igual a 422 - e "requisições válidas com erro" - com status code na faixa 5XX ou igual a 408.

A disponibilidade pontual (t) será calculada como a fração do total de requisições válidas que cada endpoint recebe e as que ele processa com sucesso a cada intervalo de 1 minuto. Os intervalos de minuto deverão ser calculados do segundo zero (0s:000ms) até o segundo 59 (59s:999ms).



Por exemplo, a disponibilidade pontual de um endpoint referente ao minuto 11:34, de um determinado dia, no qual houve um total de requisições válidas com sucesso de 255 e um total de requisições válidas com erro de 4, é calculada da seguinte forma:



Dessa forma, obtém-se o indicador percentual para cada janela de tempo de 1 minuto. Cada período de 1 minuto será classificado como "disponível" ou "indisponível". Se a "disponibilidade pontual" da janela de tempo ficar abaixo de 95% isso indicará que ela será considerada como "indisponível", caso contrário será "disponível".

Períodos que não tenham requisições válidas são considerados "indefinidos" e são desconsiderados para cálculo da disponibilidade.



A disponibilidade diária será calculada baseada nas informações das disponibilidades pontuais.



Por exemplo, considerando um dia em que houve requisições válidas em 1.390 das 1.440 faixas de 1 minuto possíveis (1 dia = 24h * 60min= 1.440 faixas de horário) para um endpoint específico "x" de versão 1, e dos quais 30 períodos tiveram a disponibilidade menor que o limite de disponibilidade definido (95%), a Disponibilidade Diária de "x" v1 será igual a:



A disponibilidade longa deverá ser calculada diariamente como média móvel das disponibilidades dos últimos noventa dias corridos, considerando somente os dias em que a disponibilidade diária pode ser calculada (teve pelo menos uma disponibilidade pontual diferente de "indefinido"). Ou seja, caso nos últimos noventa dias tenhamos dois dias calculados como indefinidos, a média deve ser calculada considerando somente as 88 disponibilidades válidas.

A aferição mensal deve considerar a disponibilidade longa do último dia do mês de referência.

5.4.2 SLA da disponibilidade

Cada um dos endpoints das APIs categorizadas como "Dados Abertos", "Dados Cadastrais e Transacionais", "Relatórios e Métricas", por versão, e os endpoints das APIs de "Segurança" "/register" e "/token", deverão satisfazer os requisitos mínimos de disponibilidade abaixo:

I - disponibilidade diária (calendário): 95%; e

II - disponibilidade longa (média móvel de 90 dias), medida diariamente: 99,5%.

As APIs classificadas como "Serviços de Iniciação de Pagamentos" seguem o definido na regulamentação do Pix.

Informações adicionais:

I - as medições devem ser feitas todos os dias, em todas as faixas de 1 minuto disponíveis, iniciando na primeira faixa (00:00:00-00:00:59) e terminando na última faixa (23:59:00-23:59:59), considerando o horário de Brasília;

II - as medições de disponibilidade devem ser feitas para cada versão major dos endpoints em produção. Por exemplo, em períodos de convivência o endpoint de v1/resources poderia estar disponível no mesmo período em que o endpoint de v2/resources estaria também disponível. É importante que suas disponibilidades sejam calculadas de maneira independente;

III - as instituições provedoras devem gerar e acompanhar seus indicadores de disponibilidade, de maneira independente da Plataforma de Coleta de Métricas (PCM) provida pela Estrutura Responsável pela Governança do Open Finance;

IV - o status code a ser considerado para uma requisição é o valor reportado pelo consumidor da API;

V - na falta de informações dos consumidores, serão utilizadas as informações dos provedores para o cálculo do SLA de disponibilidade;

VI - a indisponibilidade programada não exime o cálculo da disponibilidade no período apurado;

VII  esta subseção não se aplica às APIs de "Webhook";

VIII - a disponibilidade de endpoints que não tenham requisições válidas no período apurado será considerada "indefinida", não estando sujeita a um SLA; e

IX - a Estrutura Responsável pela Governança do Open Finance deverá disponibilizar indicadores adicionais para monitoramento e aprimoramento do ecossistema que não terão, nesse momento, um SLA mínimo, tais como:

a) Disponibilidade calculada do ponto de vista do provedor da API - deve considerar as informações fornecidas pelo provedor das APIs; e

b) Disponibilidade calculada do ponto de vista do consumidor da API - deve considerar as informações fornecidas somente pelos consumidores das APIs, classificadas no PCM como "PAIRED" ou "SINGLE".

5.5 Timeout

Padronização do timeout de tempo de resposta do provedor e do tempo de resposta do consumidor em quinze segundos.

As requisições que excederem o limite de timeout do provedor deverão ser respondidas com o código de status HTTP 504 (Gateway Timeout).

 

Brasília, 29 de fevereiro de 2024.


 

NOTA 121/2024-BCB/DENOR, DE 28 DE FEVEREIRO DE 2024.

Fundamenta proposta de edição de instrução normativa que estabelece a versão 5.0 do Manual de APIs do Open Finance.

Senhores Chefes do Denor e do Deinf,

A presente Nota fundamenta proposta de edição de instrução normativa pelo Departamento de Regulação do Sistema Financeiro (Denor) e pelo Departamento de Tecnologia da Informação (Deinf), no uso da atribuição que lhes conferem o art. 23, inciso I, alínea "a", do Regimento Interno do Banco Central do Brasil, anexo à Resolução BCB nº 340, de 21 de setembro de 2023, com base no art. 51, inciso IX, da Resolução Conjunta nº 1, de 4 de maio de 2020.

2.               A respeito, a proposta trata de edição de instrução normativa que estabelece a versão 5.0 do Manual de APIs do Open Finance, revogando a Instrução Normativa BCB nº 306, de 19 de setembro de 2022, que divulga a versão 4.0 do Manual de APIs do Open Finance.

3.               Convém ressaltar que, por força do art. 5º da Lei nº 13.874, de 20 de setembro de 2019, as propostas de edição e de alteração de atos normativos de interesse geral de agentes econômicos ou de usuários dos serviços prestados, editadas por órgão ou entidade da administração pública federal, incluídas as autarquias e as fundações públicas, devem ser precedidas da realização de análise de impacto regulatório (AIR), que conterá informações e dados sobre os possíveis efeitos do ato normativo para verificar a razoabilidade do seu impacto econômico.

4.               No entanto, vale destacar que as alterações e os ajustes propostos não causam impactos significativos para o conjunto de instituições participantes do Open Finance, por tratar-se somente de detalhamentos em relação à forma de cálculo do tempo de resposta e da disponibilidade dos endpoints das APIs do Open Finance. Nesse sentido, de acordo com o art. 4º, inciso III, do referido Decreto, o ato normativo ora proposto fica dispensado de elaboração de AIR por ser considerado de baixo impacto.

5.               Por fim, considerando que essa nova versão do Manual de APIs do Open Finance traz detalhamentos importantes para o processo de monitoramento do Open Finance, entendemos se aplicar a hipótese de urgência justificada no expediente administrativo, de que trata o art. 4º, parágrafo único, do Decreto nº 10.139, de 28 de novembro de 2019, para que a instrução normativa entre em vigor em 1º de março de 2024, na mesma data de entrada em vigor da Instrução Normativa BCB nº 441, de 20 de dezembro de 2023, que divulga o Manual de Monitoramento do Open Finance.

                            À consideração de V.Sa.

 

                            Mardilson Fernandes Queiroz                      Aristides Andrade Cavalcante Neto
                            Chefe Adjunto do Denor                                Chefe Adjunto do Deinf


                            De acordo.

 

                           Renato Kiyotaka Uema                                   Haroldo Jayme Martins Froes Cruz
                           Chefe do Denor                                                Chefe do Deinf

 ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

INSTRUÇÃO NORMATIVA BCB Nº 441, DE 20 DE DEZEMBRO DE 2023

Divulga a versão 1.0 do Manual de Monitoramento do Open Finance.

                        Os Chefes do Departamento de Regulação do Sistema Financeiro (Denor), do Departamento de Supervisão de Cooperativas e de Instituições Não Bancárias (Desuc), do Departamento de Supervisão Bancária (Desup) e do Departamento de Tecnologia da Informação (Deinf), no uso das atribuições que lhes conferem o art. 23, inciso I, alínea "a", do Regimento Interno do Banco Central do Brasil, anexo à Resolução BCB nº 340, de 21 de setembro de 2023, com base no art. 51, incisos IX e XI, da Resolução Conjunta nº 1, de 4 de maio de 2020,

                        R E S O L V E M :

                        Art. 1º  Esta Instrução Normativa divulga a versão 1.0 do Manual de Monitoramento do Open Finance, de observância obrigatória por parte das instituições participantes, conforme Anexo.

                        Parágrafo único.  O manual de que trata o caput, em sua versão mais recente, estará acessível na página do Open Finance no sítio eletrônico do Banco Central do Brasil na internet e no Portal do Open Finance no Brasil, mantido pela Estrutura Responsável pela Governança do Open Finance de que trata o art. 44, § 1º, da Resolução Conjunta nº 1, de 4 de maio de 2020.

                        Art. 2º  Esta Instrução Normativa entra em vigor em 1º de março de 2024.

 

 

                        Renato Kiyotaka Uema                                    Harold Paquete Espínola Filho
                        Chefe do Departamento de Regulação        Chefe do Departamento de Supervisão
                        do Sistema Financeiro substituto                  de Cooperativas e de Instituições 
                                                                                                     Não Bancárias

   

 

                        Belline Santana                                                 Haroldo Jayme Martins Froes Cruz
                        Chefe do Departamento                                 Chefe do Departamento de Tecnologia
                        de Supervisão Bancária                                   da Informação

                                                                                              


 

ANEXO À INSTRUÇÃO NORMATIVA BCB Nº 441, DE 20 DE DEZEMBRO DE 2023


Manual de Monitoramento do Open Finance Versão 1.0

 

Sumário de alterações

 

Data

Versão

Descrição das alterações

20/12/2023

1.0

Versão inicial.

Termos de Uso

Este manual define os princípios básicos do monitoramento do Open Finance, complementando a regulamentação vigente sobre o tema.

O manual será revisto e atualizado periodicamente a fim de preservar a compatibilidade com a regulamentação, bem como incorporar os aprimoramentos decorrentes da evolução do Open Finance.

Informações mais detalhadas e exemplos da aplicação deste manual poderão ser encontradas no Portal do Open Finance no Brasil (https://openfinancebrasil.org.br/), mantido pela Estrutura Responsável pela Governança do Open Finance.

Sugestões, críticas ou pedidos de esclarecimento de dúvidas relativas ao conteúdo deste documento podem ser enviados ao Banco Central do Brasil por meio dos canais institucionais dessa autarquia.

Referências

Estas especificações têm como base, referenciam e complementam, quando aplicável, os seguintes documentos:

Referência

Origem

Resolução Conjunta nº 1, de 2020

https://www.bcb.gov.br/estabilidadefinanceira/exibenormativo?tipo=Resolu%C3%A7%C3%A3o%20Conjunta&numero=1

Resolução BCB nº 32, de 2020

https://www.bcb.gov.br/estabilidadefinanceira/exibenormativo?tipo=Resolu%C3%A7%C3%A3o%20BCB&numero=32

Lei nº 13.709, de 2018, Lei Geral de Proteção de Dados Pessoais (LGPD)

http://www.planalto.gov.br/ccivil_03/_ato2015-2018/2018/lei/L13709.htm

1. Introdução

Este manual foi elaborado com o objetivo de garantir que o monitoramento do Open Finance, a ser realizado pela Estrutura Responsável pela Governança do Open Finance, seja capaz de verificar se as instituições participantes estão em conformidade com as obrigações previstas na regulamentação do Banco Central do Brasil e em documentos elaborados pela Estrutura Responsável pela Governança do Open Finance, conforme definido pela regulamentação vigente.

Convém destacar que as determinações referentes ao monitoramento de serviços de tecnologia estabelecidas neste manual são complementares e não excludentes em relação ao determinado pelo Manual de Serviços Prestados pela Estrutura Responsável pela Governança do Open Finance.

Este manual de monitoramento não se limita a questões de tecnologia, uma vez que o adequado monitoramento da infraestrutura do Open Finance envolve diferentes aspectos, sendo condição para que o sistema continue evoluindo de forma ágil, eficiente e segura.

Entre esses aspectos, destacam-se os seguintes itens:

I - desempenho e disponibilidade das application programming interfaces (APIs);

II - especificações, cadastros, certificação e publicação das APIs;

III - requisição de informações, sugestão de melhorias e demanda de resolução de incidentes;

IV - reporte de informações;

V - qualidade de dados; e

VI - experiência do cliente.

A Estrutura Responsável pela Governança do Open Finance deve armazenar e dar publicidade a dados estatísticos e indicadores referentes aos diversos itens monitorados. Além disso, as instituições participantes devem fornecer dados de qualidade e com detalhamento suficiente que permitam que a Estrutura Responsável pela Governança do Open Finance implemente o processo de monitoramento de que trata este manual.

Adicionalmente, ressalta-se que o processo de monitoramento do Open Finance deve ser documentado por meio de uma política de monitoramento, que deve compreender os itens monitorados pelo sistema, o fluxo de gestão do monitoramento, os papéis e as responsabilidades dos integrantes desse fluxo e as medidas aplicáveis em situações de desconformidade.

Toda a documentação relativa ao processo de monitoramento é de responsabilidade da Estrutura Responsável pela Governança do Open Finance e deve ser mantida à disposição do Banco Central do Brasil por cinco anos.

Considerando o atual estágio evolutivo do Open Finance, este manual se aplica:

a) para a subseção 2.2 e seus impactos nas demais seções e subseções, a todas as instituições participantes; e

b) para as demais seções e subseções:

(i) às instituições transmissoras de dados que representem 99% do estoque total de consentimentos ativos na data de publicação da instrução normativa que contém este manual, considerando as informações reportadas pelas instituições ao Banco Central do Brasil; e

(ii) às instituições detentoras de conta nas quais foram iniciadas 99% da quantidade total de transações de pagamento realizadas com sucesso no âmbito do Open Finance; e

A identificação das instituições detentoras de conta mencionadas na alínea "b", item (ii), desta seção deve ser realizada por meio do ordenamento, por instituição e em ordem decrescente, da quantidade total de transações de iniciação de pagamento realizadas no âmbito do Open Finance, considerando as informações reportadas pelas instituições ao Banco Central do Brasil referentes às últimas 24 semanas, contadas a partir da data de publicação da Instrução Normativa que contém este manual.

O disposto neste manual se aplica às instituições enquadradas nos critérios de que trata alínea "b" desta seção em relação a todas as suas modalidades de participação no âmbito do Open Finance.

2. Itens monitorados

Esta seção descreve os itens que devem ser monitorados pela Estrutura Responsável pela Governança do Open Finance. Tais itens e o detalhamento de cada um deles representam o mínimo exigido, cabendo à Estrutura Responsável pela Governança do Open Finance, independentemente de alteração normativa, garantir que os itens monitorados sejam expandidos sempre que houver necessidade, com vistas ao objetivo final do processo de monitoramento, que é o bom funcionamento do Open Finance para todas as partes interessadas: instituições participantes, clientes e sociedade.

Adicionalmente, considerando que as ferramentas e processos de monitoramento do Open Finance estão em processo de desenvolvimento, a primeira versão deste manual se restringirá a aspectos em que já é possível obter métricas para monitoramento, sendo que as demais métricas e indicadores serão posteriormente incorporados à medida que estiverem disponíveis para acompanhamento.

Nesse sentido, a obtenção dos itens monitorados deve ser realizada, prioritariamente, por meio de ferramentas da Estrutura Responsável pela Governança do Open Finance. Na ausência dessas ferramentas ou em caso de ferramentas que consigam obter apenas parcialmente os itens monitorados, as instituições participantes devem reportar as informações necessárias para que a Estrutura Responsável pela Governança do Open Finance consiga cumprir todas as etapas de monitoramento descritas neste manual ou em sua documentação.

2.1 Desempenho e disponibilidade das APIs

A Estrutura Responsável pela Governança do Open Finance deve monitorar diversas questões relacionadas ao desempenho e disponibilidade das APIs, entre as quais, deverão ser priorizados, no mínimo, para os fins do processo de monitoramento os seguintes itens:

I - disponibilidade das APIs das instituições participantes; e

II - tempo de resposta das APIs das instituições participantes.

Para fins do processo de monitoramento, o período de apuração referente aos itens de que trata esta subseção é mensal. O Service Level Agreement (SLA) e os métodos de cálculo referentes à disponibilidade e ao tempo de resposta das APIs das instituições participantes constam no Manual de APIs do Open Finance.

2.2 Especificações, cadastros, certificação e publicação de APIs

Esta subseção abordará os itens monitorados referentes a especificações das APIs; cadastros no Diretório de Participantes, certificação e publicação dessas APIs. Destaca-se que os itens desta subseção precisam ser cumpridos na sua totalidade, de modo que qualquer desvio em relação ao padrão estabelecido ensejará a aplicação de medidas à instituição participante em desconformidade.

A ocorrência de desconformidades em relação aos itens tratados nesta subseção ensejará a abertura de tickets à instituição participante em desconformidade, cujos prazos máximos de atendimento constam no Manual de Serviços Prestados pela Estrutura Responsável pela Governança do Open Finance.

A Estrutura Responsável pela Governança do Open Finance deve monitorar, no mínimo, os seguintes itens referentes a especificações, cadastros, certificação e publicação de APIs das instituições participantes:

I - cumprimento de marcos regulatórios e de outras exigências de testes para certificação de novas especificações: a Estrutura Responsável pela Governança do Open Finance deve monitorar e exigir o cumprimento dos pontos de controle do processo de publicação em produção de versões iniciais e de novas versões de APIs, sejam eles definidos em regulamentação ou pela própria Estrutura Responsável pela Governança do Open Finance;

II - cadastro atualizado das APIs: a Estrutura Responsável pela Governança do Open Finance deve verificar e exigir que as informações relativas às APIs das instituições participantes armazenadas pela Estrutura Responsável pela Governança do Open Finance estejam corretas;

III - certificação funcional e de segurança das APIs das instituições participantes: a Estrutura Responsável pela Governança do Open Finance deve exigir que as instituições participantes certifiquem suas APIs, conforme a versão em vigor;

IV - publicação das APIs pelas instituições participantes: a Estrutura Responsável pela Governança do Open Finance deve verificar e exigir a devida publicação das APIs das instituições participantes;

V - cumprimento regulatório das modalidades de participação: a Estrutura Responsável pela Governança do Open Finance deve verificar se as modalidades de participação cadastradas pelas instituições participantes estão em conformidade com o estabelecido na regulamentação, quando houver informações disponíveis para tal verificação, e adotar as providências necessárias para a regularização;

VI - retirada das versões antigas das APIs de ambiente produtivo e do cadastro no diretório, de acordo com o cronograma definido pela regulamentação ou pela Estrutura Responsável pela Governança do Open Finance referente ao período de convivência das versões; e

VII - aderência das APIs das instituições participantes às especificações funcionais e de segurança: a Estrutura Responsável pela Governança do Open Finance deve verificar e exigir que as APIs das instituições participantes em ambiente produtivo estão aderentes às especificações funcionais e de segurança.

A Estrutura Responsável pela Governança do Open Finance deve realizar a gestão do processo de obtenção de maturidade dos motores de certificação funcional e de segurança, com vistas a possibilitar que as instituições participantes consigam cumprir as obrigações do inciso I desta subseção.

Para fins do processo de monitoramento, o período de apuração referente aos itens de que trata esta subseção é:

a) no momento da detecção da desconformidade, para os incisos I, III, IV e VI desta subseção; e

b) mensal, para os demais incisos desta subseção.

2.3 Requisição de informações, sugestão de melhorias e demanda de resolução de incidentes

A Estrutura Responsável pela Governança do Open Finance deve monitorar, no mínimo, o prazo para atendimento de:

I - tickets relativos a requisições de informações, a sugestões de melhorias e de resolução de incidentes, abertos bilateralmente entre instituições participantes no Service Desk. A Estrutura Responsável pela Governança do Open Finance deve acompanhar os prazos de cada ticket bilateral que estiver em aberto e gerar estatísticas sobre o prazo de atendimento de cada ticket bilateral que estiver encerrado ou que estiver com o prazo vencido; e

II - tickets abertos pela Estrutura Responsável pela Governança do Open Finance: a Estrutura Responsável pela Governança do Open Finance deve acompanhar os prazos de cada ticket aberto por ela que estiver em aberto. Devem ser geradas estatísticas sobre o prazo de atendimento dos tickets abertos por ela que estiverem encerrados ou com o prazo vencido. Os tickets abertos pela Estrutura Responsável pela Governança do Open Finance compreendem aqueles abertos por órgãos da Estrutura Responsável pela Governança do Open Finance, fornecedores e ferramentas, tal como a Ferramenta de Validação em Produção (FVP).

Para fins do processo de monitoramento, o período de apuração referente aos itens de que trata esta subseção é mensal.

2.4 Reporte de informações

As instituições participantes devem disponibilizar, nos prazos definidos pela Estrutura Responsável pela Governança do Open Finance, dados com qualidade adequada e com detalhamento suficiente, de forma a permitir que a Estrutura Responsável pela Governança do Open Finance implemente as funcionalidades dispostas neste manual.

A Estrutura Responsável pela Governança do Open Finance deve estabelecer, para cada caso, os dados que precisam ser enviados pelas instituições participantes, bem como sua forma de envio, periodicidade, entre outros itens cabíveis. As desconformidades em relação aos reportes de informações estão sujeitas às medidas aplicáveis de que trata a subseção 3.2 deste manual.

Para fins do processo de monitoramento, a apuração referente ao reporte de informações de que trata esta subseção deve se dar imediatamente após a detecção da desconformidade.

2.5 Qualidade de dados

As instituições participantes do Open Finance devem garantir a qualidade dos dados informados por meio de suas APIs, com observância, no mínimo, dos seguintes itens:

I - completude: preenchimento de todos os campos obrigatórios dos endpoints de suas APIs e, quando aplicável, dos campos opcionais e condicionais;

II - consistência: ausência de divergências entre os dados informados por meio de suas APIs e os dados divulgados nos canais eletrônicos disponibilizados aos seus clientes;

III - conformidade: aderência dos dados informados por meio de suas APIs aos padrões e às regras de negócios especificados no Open Finance;

IV - validade: representação dos dados informados nos diversos campos dos endpoints de suas APIs de acordo com sua definição, em termos de formato, tipo, valores permitidos, entre outros atributos;

V - atualidade: relevância dos dados informados por meio de suas APIs no tempo; e

VI - unicidade: unicidade dos dados informados por meio de suas APIs, ou seja, ausência de duplicidade de informações.

Visando à manutenção da qualidade de dados do Open Finance, as instituições participantes que tiverem aderido, obrigatória ou voluntariamente, ao compartilhamento de dados devem implementar o motor de qualidade de dados, conforme parâmetros definidos pela Estrutura Responsável pela Governança do Open Finance, e utilizá-lo na sua atuação como transmissora de dados.

Com base nos relatórios gerados a partir da análise de tickets relativos à qualidade de dados e de estatísticas provenientes do uso do motor de qualidade de dados pelas instituições participantes, a Estrutura Responsável pela Governança do Open Finance deverá construir um índice de qualidade de dados que demonstre o desempenho individual de cada instituição.

2.6 Experiência do cliente

2.6.1 Jornada do cliente

A Estrutura Responsável pela Governança do Open Finance deve monitorar as jornadas dos clientes, de acordo com as diferentes modalidades de:

I - fluxos existentes, considerando os diferentes canais, dispositivos e ambientes em que a jornada Open Finance é disponibilizada, tais como aplicativo para aplicativo, aplicativo para navegador e vice-versa no mesmo dispositivo; aplicativo para navegador e vice-versa entre dispositivos diferentes; e navegador para navegador;

II – público-alvo, pessoa natural ou pessoa jurídica;

III - alçadas, simples ou múltiplas; e

IV - compartilhamento de dados ou de serviços.

A Estrutura Responsável pela Governança do Open Finance deve gerar as próprias evidências das jornadas dos clientes ou contratar fornecedores independentes para tal, cabendo a ressalva de que não será admitida a geração de evidências das jornadas por meio do envio de jornadas pela própria instituição participante.

Para fins do processo de monitoramento, o período de apuração do monitoramento da jornada do cliente será definido pela Estrutura Responsável pela Governança do Open Finance e dar-se-á na mesma periodicidade das rodadas de avaliação a serem executadas com as instituições participantes selecionadas.

A Estrutura Responsável pela Governança do Open Finance definirá os escopos de avaliação de cada rodada. Obrigatoriamente, em todas as rodadas e em todos os escopos dessa avaliação, devem estar presentes as instituições participantes de maior relevância. Para os fins dessa seleção, deve-se considerar, como critério de relevância:

I - para o compartilhamento de dados: estoque total de consentimentos ativos; e

II - para a iniciação de transação de pagamentos: quantidade total de transações de pagamento realizadas com sucesso no âmbito do Open Finance.

2.6.2 Taxa de conversão

A Estrutura Responsável pela Governança do Open Finance deve monitorar a taxa de conversão de jornadas de compartilhamento de dados e de jornadas de iniciação de pagamentos.

As taxas mínimas de conversão referentes a jornadas de compartilhamento de dados e a jornadas de iniciação de pagamentos são:

I - compartilhamento de dados: 80% da média ponderada por consentimentos solicitados das três maiores taxas de conversão de instituições transmissoras de dados nos últimos três meses, incluindo o mês de referência; e

II - iniciação de transação de pagamento: 80% da média ponderada por consentimentos solicitados das três maiores taxas de conversão de instituições detentoras de conta nos últimos três meses, incluindo o mês de referência.

Há um limite de tolerância de três pontos percentuais para as taxas mínimas de conversão, de que trata esta subseção.

As taxas de conversão de que trata esta subseção devem ser calculadas da seguinte forma:

I - compartilhamento de dados: quantidade de consentimentos gerados com sucesso em relação à quantidade de solicitações de criação de consentimentos de clientes direcionados para a instituição transmissora de dados; e

II - iniciação de transação de pagamento: quantidade de consentimentos gerados com sucesso em relação à quantidade de solicitações de criação de consentimentos de clientes titulares de conta direcionados para a instituição detentora de conta.

O período de apuração das taxas de conversão é mensal e devem ser consideradas, para cada mês, todas as semanas cujas sextas-feiras ocorreram no mês.

Para fins do cálculo das taxas de conversão de que trata esta subseção, não devem ser computadas solicitações de criação de consentimentos em que todas as chamadas de criação de consentimento retornaram erros relacionados com as tentativas de acessos sem as permissões devidas pela instituição receptora de dados ou pela instituição iniciadora de transação de pagamento, assim indicados nas especificações.

As taxas mínimas de conversão serão revistas periodicamente, considerando a evolução dos indicadores e as necessidades de aprimoramentos do Open Finance.

Para fins do processo de monitoramento, o período de apuração referente ao item de que trata esta subseção é mensal.

3. Processo de monitoramento

O processo de monitoramento do Open Finance, realizado pela Estrutura Responsável pela Governança do Open Finance, em conjunto com as instituições participantes, deve ser pautado pelos princípios de transparência, melhoria contínua, eficiência e assertividade, e ter por objetivo assegurar que as instituições participantes estejam em consonância com as obrigações previstas em documentos elaborados no âmbito da Estrutura Responsável pela Governança do Open Finance e na regulamentação do Banco Central do Brasil.

A Estrutura Responsável pela Governança do Open Finance deve definir e documentar o processo de monitoramento por meio de uma política específica (Política de Monitoramento), que deve compreender, no mínimo, o fluxo de monitoramento e de aplicação de medidas, os papéis e as responsabilidades dos integrantes desse fluxo e as medidas aplicáveis em caso de descumprimento da performance desejada.

Outros aspectos referentes ao processo de monitoramento, tais como os itens monitorados, também devem ser documentados, mas, considerando necessidade de atualização mais frequente, poderão constar de documento auxiliar à Política de Monitoramento.

Caso seja detectado que uma instituição participante não esteja em conformidade com um item monitorado, o caso deve ser acompanhado por um ticket do Service Desk, podendo ser utilizado um ticket que já tinha sido aberto referente ao caso ou ser aberto novo ticket específico.

3.1 Fluxo de monitoramento e de aplicação de medidas

A Política de Monitoramento deve descrever o fluxo de monitoramento e de aplicação de medidas discriminadas por cada integrante do fluxo, contemplando, no mínimo, as seguintes etapas integrantes desse processo:

I - verificação dos SLAs, taxas mínimas de conversão e prazos máximos de atendimento de tickets do Service Desk;

II - identificação de situações de desconformidade;

III - acompanhamento das situações de desconformidade por meio de tickets do Service Desk;

IV - avaliação da resposta das instituições participantes em desconformidade em relação às situações de desconformidade;

V - envio do caso para análise e ação de eventuais instâncias superiores, em caso de continuidade da situação de desconformidade ou do impacto da situação no bom funcionamento do Open Finance; e

VI - aplicação de medidas às instituições participantes em desconformidade.

3.2 Medidas aplicáveis

A Política de Monitoramento deve prever a aplicação de medidas às instituições participantes em desconformidade para as situações de desconformidade detectadas.

A Estrutura Responsável pela Governança do Open Finance deve estabelecer o valor da multa e o percentual de majoração considerando critérios relacionados a aspectos das situações de desconformidade detectadas, tais como impacto para o sistema e reincidência; e da instituição participante em desconformidade, tais como porte e relevância no Open Finance.

A relevância de cada participante no Open Finance pode ser medida pela quantidade de consentimentos ativos, tanto como receptor quanto como transmissor, quantidade de pagamentos realizados como iniciador ou detentor de contas ou outros indicadores correlatos.

Esta subseção contempla disposições mínimas sobre medidas aplicáveis a situações de desconformidade em relação aos itens monitorados que constam na seção 2 deste manual.

3.2.1 Regras gerais

Na hipótese de detecção de situações de desconformidade em relação ao SLA de um item monitorado, às taxas mínimas de conversão ou ao prazo máximo de atendimento de tickets, a instituição participante em desconformidade deverá apresentar, em prazo a ser estabelecido pela Estrutura Responsável pela Governança do Open Finance, caso o Banco Central do Brasil não estabeleça prazo distinto, seja este geral ou para o caso específico, documento assinado pelo diretor responsável pelo compartilhamento de dados e serviços no âmbito do Open Finance, contendo descrição do ocorrido, solução adotada para correção e elementos mitigadores para prevenção de novas ocorrências. Este documento deve ser estar disponível ao Banco Central do Brasil.

Caso a instituição participante apresente reincidência em uma mesma situação de desconformidade no decurso de seis períodos de apuração após detecção da desconformidade inicial, a instituição participante em desconformidade deverá apresentar, em prazo a ser estabelecido pela Estrutura Responsável pela Governança do Open Finance, caso o Banco Central do Brasil não estabeleça um prazo distinto, seja este geral ou para o caso específico, plano de adequação em relação à situação de desconformidade, assinado pelo diretor responsável pelo compartilhamento de dados e serviços no âmbito do Open Finance, para que tal situação seja solucionada.

Os planos de adequação devem ser avaliados e aprovados pela Estrutura Responsável pela Governança do Open Finance e enviados ao Banco Central do Brasil, que poderá requerer ajustes nesses planos.

A Estrutura Responsável pela Governança do Open Finance não poderá aplicar novas medidas à instituição participante em desconformidade enquanto o plano de adequação estiver em andamento. Destaca-se que o plano de adequação será considerado como ‘em andamento’ apenas se estiver sendo cumprido conforme aprovado pela Estrutura Responsável pela Governança do Open Finance e, quando for o caso, pelo Banco Central do Brasil, e sendo observadas melhorias constantes nos indicadores da desconformidade que o ensejou.

No decurso de seis períodos de apuração após o final do plano de adequação, seja pela sua conclusão ou pelo fato de a instituição participante em desconformidade não ter apresentado melhorias constantes nos indicadores da desconformidade que o ensejou, se a instituição participante voltar a reincidir na situação de desconformidade, a Estrutura Responsável pela Governança do Open Finance deverá aplicar advertência à instituição participante.

Na ocasião de detecção de nova reincidência em relação à situação de desconformidade pela qual a instituição participante já havia sido advertida no decurso de seis períodos de apuração após essa advertência, a Estrutura Responsável pela Governança do Open Finance deverá aplicar multa à instituição participante em desconformidade e, caso as desconformidades persistam, a Estrutura Responsável pela Governança do Open Finance deverá, a cada nova reincidência, aplicar multa majorada à instituição participante em desconformidade.

Para os fins da apuração que enseja a aplicação da medida do tipo "multa", não se deve considerar:

I - desconformidades de até 20% em relação ao SLA ou às taxas mínimas de conversão estabelecidos; e

II - desconformidades relacionadas ao prazo para atendimento de tickets do período de apuração, caso pelo menos 80% dos tickets abertos ou encerrados no período tenham atendido aos prazos máximos estabelecidos.

A Estrutura Responsável pela Governança do Open Finance deve comunicar ao Banco Central do Brasil os eventos de aplicação de advertências ou de multas às instituições participantes.

3.2.2 Regras específicas

As medidas aplicáveis de que trata esta subseção são complementares às medidas dispostas na subseção 3.2.1.

3.2.2.1 Experiência do Cliente - Taxa de conversão

Na hipótese de a taxa de conversão ficar inferior a 60% das taxas mínimas de conversão de que trata a subseção 2.6.2, a instituição participante em desconformidade deve providenciar uma avaliação específica de empresa especializada independente para realizar um diagnóstico da situação e submeter os resultados à Estrutura Responsável pela Governança do Open Finance e ao Banco Central do Brasil.

A avaliação deve ser emitida em até noventa dias da data de divulgação da taxa de conversão e terá validade por doze meses.

3.3 Comunicação do processo de monitoramento

A comunicação do processo de monitoramento é aspecto fundamental para que as instituições participantes tenham amplo conhecimento acerca dos itens que estão sendo monitorados, da performance desejada, de como se dá o fluxo de monitoramento e de aplicação de medidas, quais os papéis e responsabilidades de cada integrante desse fluxo e quais são as medidas aplicáveis.

Adicionalmente, as instituições participantes devem ser informadas sobre a sua situação em relação a cada um dos itens monitorados, com maior destaque para os itens que estiverem em situação de desconformidade com a performance desejada.

3.3.1 Comunicação ampla às instituições participantes

A Estrutura Responsável pela Governança do Open Finance deve comunicar, de forma ampla, às instituições participantes como se dá o processo de monitoramento no Open Finance, abordando, no mínimo, os itens monitorados, os SLAs, as taxas mínimas de conversão e os prazos máximos de atendimento de tickets, o fluxo de monitoramento e de aplicação de medidas, os papéis e responsabilidades e as medidas aplicáveis.

A estratégia de comunicação deve considerar que alguns desses itens podem sofrer alterações frequentes e, assim, atualizações tempestivas são necessárias, para que as instituições participantes estejam sempre bem-informadas em relação ao processo de monitoramento.

3.3.2 Comunicação específica às instituições participantes

A Estrutura Responsável pela Governança do Open Finance deve disponibilizar informações sobre a performance de cada instituição participante em relação aos itens monitorados, com vistas ao acompanhamento por parte dessas instituições em relação à sua performance, com maior destaque para os itens que estiverem em situação de desconformidade com a performance desejada.

Essas informações devem ser prestadas em nível de detalhe suficiente para que a instituição participante possa verificar a fidedignidade dos dados analisados no fluxo de monitoramento e de aplicação de medidas em relação aos seus dados internos.

4. Dados estatísticos e indicadores sobre a atuação das instituições participantes no Open Finance

A Estrutura Responsável pela Governança do Open Finance deve prover os meios para armazenamento e compilação de dados estatísticos referentes à atuação das instituições participantes no Open Finance e à sua performance em relação aos itens monitorados, bem como produzir e disponibilizar indicadores com base nesses dados.

Visando a garantir o bom funcionamento do sistema, a Estrutura Responsável pela Governança do Open Finance pode coletar e armazenar outras métricas relevantes não mencionadas explicitamente neste manual, ressaltando-se que estão vedados a coleta e o armazenamento de dados dos clientes, ainda que anonimizados ou pseudonimizados.

4.1 Divulgação de dados estatísticos e de indicadores sobre a atuação das instituições participantes

Os dados estatísticos referentes à atuação das instituições participantes devem abranger, no mínimo, informações acerca:

I - da quantidade de chamadas por API e por endpoint, contemplando seu histórico;

II - da disponibilidade de APIs por endpoint, contemplando seu histórico;

III - do percentual de sucesso das chamadas, bem como de seus erros, por status code;

IV - da quantidade de consentimentos ativos total e por clientes únicos, pessoas natural e jurídica, incluindo visões por transmissor ou detentor (conforme o caso) e por receptor ou iniciador (conforme o caso), contemplando seu histórico; e

V - das taxas de conversão do consentimento com detalhamento de cada etapa de sua geração, incluindo visões por transmissor ou detentor e por receptor ou iniciador.

Os dados informados pelas instituições participantes são de responsabilidade de cada instituição, representada pelo diretor responsável pelo compartilhamento de dados e serviços no âmbito do Open Finance, e devem ser informados com frequência mínima que permita aferir o atendimento dos acordos de nível de serviço:

I - das APIs das instituições participantes; e

II - dos elementos da infraestrutura compartilhada.

A Estrutura Responsável pela Governança do Open Finance, com base nos indicadores de nível de serviço apurados das instituições participantes, deve construir um índice de performance no Open Finance, calculá-lo de forma individual para cada instituição participante e divulgá-lo mensalmente.

Esses dados estatísticos devem ser também disponibilizados, em área pública do Portal do Open Finance no Brasil na forma de um painel de indicadores de fácil visualização, de forma individualizada e nominal em relação às instituições participantes, que permita a verificação desse desempenho pelo público em geral de maneira rápida e clara.

O painel de indicadores deve propiciar a visualização dos dados em, no mínimo, dois níveis diferentes:

I - visão consolidada: com as médias dos indicadores mais importantes, prevendo destaque para os melhores e piores desempenhos do mês; e

II - visão customizada/comparativa: com a possibilidade de ordenação por valor (crescente e decrescente), busca e seleção de múltiplos parâmetros pelo usuário, como nome da instituição participante, endpoint, período, entre outros.

Em ambas as visualizações, deve constar no painel de indicadores recurso visual, como gráficos, ícones ou símbolos, que permita aferir o desempenho do indicador em relação ao mínimo regulatório exigido. As visualizações devem permitir ao público geral identificar nominalmente o desempenho de cada uma das instituições participantes.

Dada a amplitude do escopo de participantes do Open Finance, eventuais gráficos que listem todas as instituições participantes devem dispor de ferramenta de busca que auxilie o usuário a localizar no gráfico uma instituição específica, caso desejado.

O painel de indicadores deve ainda conter recursos para pesquisa customizada, de forma a possibilitar a seleção de campos, inclusive de dados individualizados e não agregados. Os resultados devem ser passíveis de download para diferentes formatos, respeitando a seleção de campos ou segregação de dados realizada.

As métricas, as unidades de medida e as definições utilizadas devem ficar claras para o usuário, bem como eventuais limitações, exclusões ou alterações referentes à base de cálculo.

4.2 Divulgação de dados estatísticos e de indicadores sobre os itens monitorados

A Estrutura Responsável pela Governança do Open Finance deve compilar os dados estatísticos sobre os itens monitorados, gerar indicadores e índices em relação a eles e divulgá-los, com vistas a dar transparência em relação ao processo de monitoramento e criar incentivos para que as instituições participantes busquem contínua evolução de sua atuação.

Tal divulgação deve contemplar os dados estatísticos, indicadores e índices de cada instituição participante, de forma individual e nominal, considerando seu histórico, bem como as eventuais situações de desconformidade, referentes a cada item monitorado e a outras situações de desconformidade identificadas que ainda não estejam no escopo dos itens monitorados.

Os dados estatísticos, indicadores e índices devem ser documentados para fins de controle interno da Estrutura Responsável pela Governança do Open Finance e estar à disposição do Banco Central do Brasil.

5. Acompanhamento das situações de desconformidade

A Estrutura Responsável pela Governança do Open Finance deve disponibilizar área para que as instituições participantes possam fazer a gestão das situações de desconformidade, que contenha:

I - a listagem de todos os casos abertos e o histórico dos casos que já estão encerrados;

II - o status de cada caso aberto a depender da fase em que se encontra no fluxo de monitoramento e de aplicação de medidas; e

 

III - o detalhamento de cada caso, com informações específicas sobre a situação de desconformidade, a data de entrada do caso no fluxo de monitoramento e de aplicação de medidas e o prazo restante para sua resolução, conforme regulamentação do Banco Central do Brasil e documentação da Estrutura Responsável pela Governança do Open Finance.

A área de acompanhamento das situações de desconformidade deve estar acessível para o Banco Central do Brasil.

6. Regras transitórias

A medida “multa” poderá ser aplicada após a implementação da nova Estrutura Responsável pela Governança do Open Finance, conforme regulamentação específica.

 

Brasília, 20 de dezembro de 2023.


 

NOTA 940/2023-BCB/DENOR, DE 13 DE DEZEMBRO DE 2023.

Fundamenta proposta de edição de instrução normativa que estabelece a versão 1.0 do Manual de Monitoramento do Open Finance.

                        Senhores Chefes do Denor, do Desuc, do Desup e do Deinf,

A presente Nota fundamenta proposta de edição de instrução normativa pelo Departamento de Regulação do Sistema Financeiro (Denor), pelo Departamento de Supervisão de Cooperativas e de Instituições Não Bancárias (Desuc), pelo Departamento de Supervisão Bancária (Desup) e pelo Departamento de Tecnologia da Informação (Deinf), no uso da atribuição que lhes conferem os art. 23, inciso I, alínea "a", do Regimento Interno do Banco Central do Brasil, anexo à Resolução BCB nº 340, de 21 de setembro de 2023, com base no art. 51, incisos IX e XI, da Resolução Conjunta nº 1, de 4 de maio de 2020.

2.                    A proposta de instrução normativa visa a instituir o Manual de Monitoramento do Open Finance. As instruções desse Manual detalham as obrigações estabelecidas pela Resolução Conjunta nº 1, de 2020, introduzidas pela Resolução Conjunta nº 4, de 24 de março de 2022, tendo por objetivo padronizar procedimentos operacionais relacionados com o monitoramento do Open Finance.

3.                    Convém ressaltar que, por força do art. 5º da Lei nº 13.874, de 20 de setembro de 2019, as propostas de edição e de alteração de atos normativos de interesse geral de agentes econômicos ou de usuários dos serviços prestados, editadas por órgão ou entidade da administração pública federal, incluídas as autarquias e as fundações públicas, devem ser precedidas da realização de análise de impacto regulatório (AIR), que conterá informações e dados sobre os possíveis efeitos do ato normativo para verificar a razoabilidade do seu impacto econômico.

4.                    Por sua vez, o Decreto nº 10.411, de 30 de junho de 2020, que regulamenta essa Lei, em seu art. 4º, inciso II, estabelece que poderá ser dispensada a AIR, desde que haja decisão fundamentada do órgão ou da entidade competente, nas hipóteses de ato normativo destinado a disciplinar direitos ou obrigações definidos em norma hierarquicamente superior que não permita, técnica ou juridicamente, diferentes alternativas regulatórias

5.                    Desse modo, a instrução normativa ora proposta está dispensada de AIR porquanto apenas detalha obrigações criadas por ato normativo de hierarquia superior.

                        À consideração de V.Sa.

 

 

                        Mardilson Fernandes Queiroz                            Tiago de Paiva Prota
                        Consultor do Denor                                              Chefe Adjunto do Desuc

 

 

                        Ricardo Sivieri Zeni                                               Aristides Andrade Cavalcante Neto
                        Chefe Adjunto do Desup                                     Chefe Adjunto do Deinf

                                                

 

 

                        De acordo.

 

                        Renato Kiyotaka Uema                                        Harold Paquete Espínola Filho
                        Chefe do Denor substituto                                  Chefe do Desuc

 

 

                        Belline Santana                                                     Haroldo Jayme Martins Froes Cruz
                        Chefe do Desup                                                     Chefe do Deinf

------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
